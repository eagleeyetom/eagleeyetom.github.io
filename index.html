<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="MASSKA International Inclusive Theatre Review - automatic language redirect based on browser preferences.">
    <title>MASSKA Festival</title>
    <link rel="icon" href="assets/icons/favicon.ico">
    <link rel="canonical" href="https://masska.org/">
    <link rel="alternate" href="https://masska.org/pl/" hreflang="pl">
    <link rel="alternate" href="https://masska.org/en/" hreflang="en">
    <link rel="alternate" href="https://masska.org/" hreflang="x-default">

    <script>
        (function () {
            var supported = ['pl', 'en'];
            var storedLang = null;

            try {
                var storedSettings = window.localStorage.getItem('masskaModernSettings');
                if (storedSettings) {
                    var parsed = JSON.parse(storedSettings);
                    if (parsed && supported.includes(parsed.language)) {
                        storedLang = parsed.language;
                    }
                }
            } catch (error) {
                storedLang = null;
            }

            if (!storedLang && window.navigator.languages) {
                storedLang = window.navigator.languages
                    .map(function (code) { return code.split('-')[0]; })
                    .find(function (code) { return supported.includes(code); }) || null;
            }

            if (!storedLang && window.navigator.language) {
                var fallback = window.navigator.language.split('-')[0];
                if (supported.includes(fallback)) {
                    storedLang = fallback;
                }
            }

            var targetLang = storedLang || 'pl';
            window.location.replace(targetLang + '/index.html');
        }());
    </script>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: #f5f5f5;
        }

        .redirect-message {
            text-align: center;
            padding: 2rem;
        }

        .redirect-message h1 {
            font-size: 1.5rem;
            color: #111;
            margin: 0 0 1rem;
        }

        .redirect-message p {
            color: #666;
            margin: 0 0 1.5rem;
        }

        .redirect-message a {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            margin: 0 0.5rem;
            background: white;
            color: #111;
            text-decoration: none;
            border-radius: 6px;
            border: 2px solid #e0e0e0;
            transition: all 0.2s ease;
        }

        .redirect-message a:hover,
        .redirect-message a:focus {
            border-color: #ffd300;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <div class="redirect-message">
        <h1>MASSKA Festival</h1>
        <p>Redirecting to your preferred language...</p>
        <p>
            <a href="pl/index.html">Polski</a>
            <a href="en/index.html">English</a>
        </p>
    </div>
</body>

</html>
